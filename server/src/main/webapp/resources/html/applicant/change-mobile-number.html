<div ng-if="!showTokenForm" class="small-form col-xs-12 col-sm-12 col-md-8 col-md-pull-2 col-lg-6 col-lg-pull-3" >
	<form name="form" novalidate>
		<div class="small-form-header col-xs-12">
			تغيير رقم الجوال
		</div>
		<div class="alert alert-info col-xs-12 clear-col-padding required-fields-message"  style="font-size:1.2rem">هذه العلامة  (<span>*</span>) تعني أن الحقل إجباري.</div>
		
		<div>
			<div class="small-form-body col-xs-12">
				<div class="form-input col-xs-12">
					<div class="col-xs-12 col-sm-4">
						رقم الهوية <span>*</span>
					</div>
					<div class="col-xs-12 col-sm-8">
						<input type="text" name="nin" class="form-control" ng-minlength="10" maxlength="10" ng-pattern="/^[12]\d{9}$/" ng-model="changeMobileForm.nin" required />
						<div class="error" ng-show="form.nin.$dirty && form.nin.$error.pattern"> الرجاء التأكد من صحة رقم الهوية المدخل</div>
						<div class="error" ng-show="form.nin.$dirty && form.nin.$error.required">الرجاء ادخال رقم الهوية الخاص بك</div>
					</div>
				</div>
				<div class="form-input col-xs-12" ng-if='!changeMobileForm.nin || changeMobileForm.nin.charAt(0) == 1'>
					<div class="col-xs-12 col-sm-4">
						 تاريخ الميلاد بالهجري <span>*</span>
					</div>
					<div class="col-xs-12 col-sm-8" >
						<select name="dateOfBirthDay" class="form-control day-field" ng-model="changeMobileForm.dateOfBirth.day" my-hijri-date-options="days" required>
							<option value="" disabled selected>اليوم</option>
						</select>
						<select name="dateOfBirthMonth" class="form-control month-field" ng-model="changeMobileForm.dateOfBirth.month" my-hijri-date-options="months" required>
							<option value="" disabled selected>الشهر</option>
						</select>
						<select name="dateOfBirthYear" class="form-control year-field" ng-model="changeMobileForm.dateOfBirth.year" my-hijri-date-options="years" required>
							<option value="" disabled selected>السنة</option>
						</select>
					</div>
				</div>
				<div class="form-input col-xs-12" ng-if='changeMobileForm.nin.charAt(0) == 2'>
					<div class="col-xs-12 col-sm-4">
						تاريخ الميلاد بالميلادي <span>*</span>
					</div>
					<div class="col-xs-12 col-sm-8">
						<select name="dateOfBirthDay" class="form-control day-field" ng-model="changeMobileForm.dateOfBirth.day" my-gregorian-date-options="days" required>
							<option value="" disabled selected>اليوم</option>
						</select>
						<select name="dateOfBirthMonth" class="form-control month-field" ng-model="changeMobileForm.dateOfBirth.month" my-gregorian-date-options="months" required>
							<option value="" disabled selected>الشهر</option>
						</select>
						<select name="dateOfBirthYear" class="form-control year-field" ng-model="changeMobileForm.dateOfBirth.year" my-gregorian-date-options="years" my-gregorian-date-options-ending-year="1930" required>
							<option value="" disabled selected>السنة</option>
						</select>
					</div>
				</div>
				<div class="form-input col-xs-12">
					<div class="col-xs-12 col-sm-4">
						رقم الجوال الجديد <span>*</span>
					</div>
					<div class="col-xs-12 col-sm-8">
						<input type="text" name="newMobileNumber" class="form-control no-paste" maxlength="10" my-pattern="^05[0-9]{8}$" ng-model="changeMobileForm.newMobileNumber" my-check-not-equal-values="changeMobile.currentMobileNumber" required placeholder="مثال : 05XXXXXXXX"/>
						<div class="error" ng-show="form.newMobileNumber.$error.pattern">الرجاء التأكد من صحة رقم الجوال المدخل</div>
						<div class="error" ng-show="form.newMobileNumber.$dirty && form.newMobileNumber.$error.notequalvalues">رقم الجوال الجديد مطابق لرقم الجوال القديم الرجاء التأكد من رقم الجوال الجديد ثم إعادة المحاولة</div>
					</div>
				</div>
				<div class="form-input col-xs-12">
					<div class="col-xs-12 col-sm-4">
						تاريخ انتهاء الهوية <span>*</span>
					</div>
					<div class="col-xs-12 col-sm-8">
						<select class="form-control day-field" name="day" ng-model="changeMobileForm.idExpiryDate.day" my-hijri-date-options="days" required>
							<option value="" disabled selected>اليوم</option>
						</select>
						<select class="form-control month-field" name="month" ng-model="changeMobileForm.idExpiryDate.month" my-hijri-date-options="months" required>
							<option value="" disabled selected>الشهر</option>
						</select>
						<select class="form-control year-field" name="year" ng-model="changeMobileForm.idExpiryDate.year" my-hijri-date-options="years" my-hijri-date-options-starting-year="current + 20" my-hijri-date-options-ending-year="1350" required>
							<option value="" disabled selected>السنة</option>
						</select>
						<div class="error" ng-if="submitted && (form.year.$error.required || form.month.$error.required || form.day.$error.required)">الرجاء التأكد من تاريخ انتهاء الهوية</div>
					</div>
				</div>
			</div>
			<div class="small-form-footer col-xs-12 clear-col-padding">
			<button class="btn green" style="width: 130px;" ng-disabled="form.$invalid || actionInProgress" ng-click="changeMobileNumber()">تغيير</button>
			<a class="btn grey" style="width: 130px;" href="#/start">إلغاء</a>
		</div>
		</div>
	</form>
</div>

<div ng-if="showTokenForm">
			
	<div class="one-time-password small-form col-xs-12 col-sm-12 col-md-8 col-md-pull-2 col-lg-6 col-lg-pull-3">
		<form name="form" novalidate>
			<div class="small-form-header col-xs-12">
				توثيق رقم الجوال الجديد
			</div>
			<div class="alert alert-info col-xs-12 clear-col-padding required-fields-message"  style="font-size:1.2rem">هذه العلامة  (<span>*</span>) تعني أن الحقل إجباري.</div>
			<div class="small-form-body col-xs-12">
				<div class="form-input col-xs-12 instruction">
					الرجاء إدخال كلمة المرور المؤقتة المرسلة لتفعيل رقم الجوال الجديد
				</div>
				<div class="form-input col-xs-12">
					<div class="col-xs-12 col-sm-4">
						كلمة المرور المرسلة <span>*</span>
					</div>
					<div class="col-xs-12 col-sm-8">
						<input type="text" class="form-control" name="changeMobileToken" ng-model="changeMobileToken" maxlength="10" required="required" autocomplete="off" autofocus />
						<div class="error" ng-show="form.$submitted && form.oneTimePassword.$error.required">الرجاء إدخال كلمة المرور المرسلة بالشكل الصحيح</div>
					</div>
				</div>
			</div>
			<div class="small-form-footer col-xs-12 clear-col-padding">
				<div class="col-xs-12 col-sm-6 clear-col-padding">
					<button class="btn green" style="width: 130px;" ng-click="form.$submitted = true; form.$valid && sendTokenVerficationForchangeMobileNumber(changeMobileToken);" ng-disabled="actionInProgress">توثيق</button>
					<button class="btn grey" style="width: 130px;" ng-click="cancelMobileTokenVerfication();" ng-disabled="actionInProgress">إلغاء</button>
				</div>
				<div class="col-xs-12 col-sm-6 clear-col-padding">
	
				</div>
			</div>
		</form>
	</div>
	
</div>



